<%- include("partials/header") %>

    <main>
        <header>
            <h1>Book's I've Read</h1>
            <p>Small summary and detailed notes for each book. This page will periodically update, so check back later for updates.</p>
        </header>

        <p id="sorters">
            Sorted with my top recommendations first. Sort by 
            <a href="/?sort=title" class="no-style" id="sort-title">title,</a>
            <a href="/?sort=date" class="no-style" id="sort-date">newest,</a>
            <a href="/?sort=rating" class="no-style" id="sort-rating">best.</a>
            
        </p>
        <p>If you have any questions, feel free to <a href="mailto:andrewsipovac@gmail.com">email me</a>.</p>
        <hr>
        <section id="all-books">
                <% books.forEach(book => { %>
                    <div class="a-book">
                        <figure>
                            <img src="https://covers.openlibrary.org/b/isbn/<%= book.isbn %>-M.jpg" alt="<%= book.title %> by <%= book.author %>">
                        </figure>
                        <h2><a href="/books/<%= book.id %>"><%= book.title %> by <%= book.author %></a></h2>
                        <small>Date Read: <%= new Date(book.date_read).toLocaleDateString("en-US", { year: "numeric", month: "numeric", day: "numeric" }) %>. My Rating: <%= book.rating %>/10</small>
                        <p><%= book.summary %></p>
                        <a href="/books/<%= book.id %>" class="no-style">Read more</a>
                    </div>
                <% }) %>
        

        </section>
    </main>

<%- include ("partials/footer") %>
<!-- Compare this snippet from views/partials/footer.ejs: -->